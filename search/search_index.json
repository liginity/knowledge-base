{"config":{"lang":["en","zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u4e3b\u9875","text":"<p>\u8fd9\u91cc\u662f\u6211\u7684\u77e5\u8bc6\u5e93\u3002\u76ee\u524d\u8ba1\u5212\u8bb0\u5f55\u4e00\u4e9b\u5b9e\u8df5\u65b9\u9762\u7684\u77e5\u8bc6\u3002</p>"},{"location":"software/","title":"\u8f6f\u4ef6\u77e5\u8bc6","text":"<p>\u6709\u65f6\u5019\uff0c\u6211\u4f1a\u5fd8\u8bb0\u4e00\u4e9b\u8f6f\u4ef6\u7684\u4f7f\u7528\u65b9\u6cd5\u548c\u7ec6\u8282\u3002\u6211\u5e0c\u671b\u8bb0\u5f55\u4e00\u4e9b\u5185\u5bb9\uff0c\u4ee5\u65b9\u4fbf\u67e5\u627e\u3002</p>"},{"location":"software/qemu/","title":"QEMU","text":""},{"location":"software/qemu/#qemu_1","title":"\u4f7f\u7528 qemu \u5728\u7ec8\u7aef\u91cc\u5b89\u88c5\u548c\u8fd0\u884c\u865a\u62df\u673a","text":"<p>\u901a\u8fc7 ssh \u8fde\u63a5\u5230\u6ca1\u6709 GUI \u7684\u670d\u52a1\u5668\u65f6\uff0c\u9700\u8981\u5728\u7ec8\u7aef\u91cc\u5b89\u88c5\u548c\u8fd0\u884c qemu \u865a\u62df\u673a\u3002</p> <p>\u5728\u865a\u62df\u673a\u4f7f\u7528 UEFI \u56fa\u4ef6\u548c\u4f7f\u7528 BIOS \u56fa\u4ef6\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0cqemu \u542f\u52a8\u5b83\u4eec\u7684\u60c5\u51b5\u4f1a\u6709\u4e0d\u540c\uff0c\u8fd9\u5f71\u54cd\u9700\u8981\u4f7f\u7528\u7684 qemu \u53c2\u6570\u3002</p> <p>\u4e0b\u9762\u63cf\u8ff0\u4f7f\u7528 UEFI \u56fa\u4ef6\u7684\u60c5\u51b5\u3002</p> <p>\u8fd9\u662f\u5728 debian 12 \u7269\u7406\u673a\u4e0a\u6267\u884c\u7684\u64cd\u4f5c\u3002</p>"},{"location":"software/qemu/#_1","title":"\u5b89\u88c5\u8f6f\u4ef6\u5305","text":"<pre><code>sudo apt-get install qemu-system-x86 ovmf\n</code></pre>"},{"location":"software/qemu/#_2","title":"\u51c6\u5907\u865a\u62df\u673a\u6587\u4ef6","text":"<pre><code>MACHINE_NAME=\"one-vm\"\n# create an image file, format is qcow2.\nqemu-img create -f qcow2 \"${MACHINE_NAME}.cow\" 40G\n# copy the OVMF VARS file for UEFI usage (it stores UEFI variables).\n# this file is from package ovmf, debian.\ncp \"/usr/share/OVMF/OVMF_VARS_4M.ms.fd\" ./\n</code></pre>"},{"location":"software/qemu/#_3","title":"\u5728\u7ec8\u7aef\u5185\u542f\u52a8\u5b89\u88c5\u955c\u50cf","text":"<pre><code>qemu-system-x86_64 \\\n    -machine q35,smm=on \\\n    -drive file=\"${MACHINE_NAME}.cow\",format=qcow2 \\\n    -global driver=cfi.pflash01,property=secure,value=on \\\n    -drive if=pflash,format=raw,unit=0,file=/usr/share/OVMF/OVMF_CODE_4M.ms.fd,readonly=on \\\n    -drive if=pflash,format=raw,unit=1,file=OVMF_VARS_4M.ms.fd \\\n    -cdrom debian-12.1.0-amd64-DVD-1.iso \\\n    -m 2G \\\n    -nic none \\\n    -nographic -serial mon:stdio -nodefaults\n</code></pre> <p>\u8fd9\u91cc\u7684 <code>-nographic -serial mon:stdio -nodefaults</code> \u662f\u5173\u952e\u7684 qemu \u9009\u9879\u3002</p> <p>\u5176\u5b83\u9009\u9879\uff1a</p> <ul> <li><code>nic none</code>\uff1a\u8fd9\u4e2a\u9009\u9879\u53ef\u4ee5\u7981\u7528\u865a\u62df\u673a\u7684\u7f51\u7edc\uff0c\u907f\u514d\u5728\u7cfb\u7edf\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u4ece\u8f6f\u4ef6\u6e90\u4e0b\u8f7d\u548c\u5b89\u88c5\u66f4\u65b0\uff08\u8fd9\u53ef\u80fd\u6bd4\u8f83\u6162\uff09\u3002</li> </ul>"},{"location":"","title":"\u4e3b\u9875","text":"<p>\u8fd9\u91cc\u662f\u6211\u7684\u77e5\u8bc6\u5e93\u3002\u76ee\u524d\u8ba1\u5212\u8bb0\u5f55\u4e00\u4e9b\u5b9e\u8df5\u65b9\u9762\u7684\u77e5\u8bc6\u3002</p>"},{"location":"software/","title":"\u8f6f\u4ef6\u77e5\u8bc6","text":"<p>\u6709\u65f6\u5019\uff0c\u6211\u4f1a\u5fd8\u8bb0\u4e00\u4e9b\u8f6f\u4ef6\u7684\u4f7f\u7528\u65b9\u6cd5\u548c\u7ec6\u8282\u3002\u6211\u5e0c\u671b\u8bb0\u5f55\u4e00\u4e9b\u5185\u5bb9\uff0c\u4ee5\u65b9\u4fbf\u67e5\u627e\u3002</p>"},{"location":"software/qemu/","title":"QEMU","text":""},{"location":"software/qemu/#qemu_1","title":"\u4f7f\u7528 qemu \u5728\u7ec8\u7aef\u91cc\u5b89\u88c5\u548c\u8fd0\u884c\u865a\u62df\u673a","text":"<p>\u901a\u8fc7 ssh \u8fde\u63a5\u5230\u6ca1\u6709 GUI \u7684\u670d\u52a1\u5668\u65f6\uff0c\u9700\u8981\u5728\u7ec8\u7aef\u91cc\u5b89\u88c5\u548c\u8fd0\u884c qemu \u865a\u62df\u673a\u3002</p> <p>\u5728\u865a\u62df\u673a\u4f7f\u7528 UEFI \u56fa\u4ef6\u548c\u4f7f\u7528 BIOS \u56fa\u4ef6\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0cqemu \u542f\u52a8\u5b83\u4eec\u7684\u60c5\u51b5\u4f1a\u6709\u4e0d\u540c\uff0c\u8fd9\u5f71\u54cd\u9700\u8981\u4f7f\u7528\u7684 qemu \u53c2\u6570\u3002</p> <p>\u4e0b\u9762\u63cf\u8ff0\u4f7f\u7528 UEFI \u56fa\u4ef6\u7684\u60c5\u51b5\u3002</p> <p>\u8fd9\u662f\u5728 debian 12 \u7269\u7406\u673a\u4e0a\u6267\u884c\u7684\u64cd\u4f5c\u3002</p>"},{"location":"software/qemu/#_1","title":"\u5b89\u88c5\u8f6f\u4ef6\u5305","text":"<pre><code>sudo apt-get install qemu-system-x86 ovmf\n</code></pre>"},{"location":"software/qemu/#_2","title":"\u51c6\u5907\u865a\u62df\u673a\u6587\u4ef6","text":"<pre><code>MACHINE_NAME=\"one-vm\"\n# create an image file, format is qcow2.\nqemu-img create -f qcow2 \"${MACHINE_NAME}.cow\" 40G\n# copy the OVMF VARS file for UEFI usage (it stores UEFI variables).\n# this file is from package ovmf, debian.\ncp \"/usr/share/OVMF/OVMF_VARS_4M.ms.fd\" ./\n</code></pre>"},{"location":"software/qemu/#_3","title":"\u5728\u7ec8\u7aef\u5185\u542f\u52a8\u5b89\u88c5\u955c\u50cf","text":"<pre><code>qemu-system-x86_64 \\\n    -machine q35,smm=on \\\n    -drive file=\"${MACHINE_NAME}.cow\",format=qcow2 \\\n    -global driver=cfi.pflash01,property=secure,value=on \\\n    -drive if=pflash,format=raw,unit=0,file=/usr/share/OVMF/OVMF_CODE_4M.ms.fd,readonly=on \\\n    -drive if=pflash,format=raw,unit=1,file=OVMF_VARS_4M.ms.fd \\\n    -cdrom debian-12.1.0-amd64-DVD-1.iso \\\n    -m 2G \\\n    -nic none \\\n    -nographic -serial mon:stdio -nodefaults\n</code></pre> <p>\u8fd9\u91cc\u7684 <code>-nographic -serial mon:stdio -nodefaults</code> \u662f\u5173\u952e\u7684 qemu \u9009\u9879\u3002</p> <p>\u5176\u5b83\u9009\u9879\uff1a</p> <ul> <li><code>nic none</code>\uff1a\u8fd9\u4e2a\u9009\u9879\u53ef\u4ee5\u7981\u7528\u865a\u62df\u673a\u7684\u7f51\u7edc\uff0c\u907f\u514d\u5728\u7cfb\u7edf\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u4ece\u8f6f\u4ef6\u6e90\u4e0b\u8f7d\u548c\u5b89\u88c5\u66f4\u65b0\uff08\u8fd9\u53ef\u80fd\u6bd4\u8f83\u6162\uff09\u3002</li> </ul>"}]}